
VizOutput:
  superclass: BaseDataClass
  items:
  - name: filename
    type: str

  - name: species_list
    type: List[Species*]
    default: empty
    doc: When not set, all species are visualized
  
  - name: mode
    type: VizMode
    default: VizMode.Ascii
    
  - name: every_n_timesteps
    type: int
    default: 1
    

CountTerm:
  superclass: BaseDataClass
  items:
  - name: species
    type: Species*
    default: unset
    
  - name: reaction_rule
    type: ReactionRule*
    default: unset
    
  - name: region
    type: GeometryObject*
    default: unset
  
  - name: node_type
    type: ExprNodeType
    default: ExprNodeType.Leaf
    doc: Internal, used to represent an expression
    
  - name: left_node
    type: CountTerm*
    default: unset
    doc: Internal, when node_type is not Leaf, this is the left operand 

  - name: right_node
    type: CountTerm*
    default: unset
    doc: Internal, when node_type is not Leaf, this is the right operand 

  methods:
    # operator overloads follow the Python naming
    - name: __add__
      return_type: CountTerm*
      params:
      - name: op2
        type: CountTerm*
      
    - name: __sub__
      return_type: CountTerm*
      params:
      - name: op2
        type: CountTerm*
    
    
Count:
  superclass: CountTerm
  items:
  - name: filename
    type: str
    
  - name: count_expression 
    type: CountTerm*
    default: empty

  - name: every_n_timesteps
    type: int
    default: 1
 
 
Observables:
  items:
  - name: viz_outputs
    type: List[VizOutput*]
    default: empty

  - name: counts
    type: List[Count*]
    default: empty
  
  methods:
  - name: add_viz_output
    params:
    - name: viz_output
      type: VizOutput*
  
  - name: add_count
    params:
    - name: count
      type: Count*
     