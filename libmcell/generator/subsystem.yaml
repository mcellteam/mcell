
ComponentType:
  superclass: BaseDataClass
  items:
  - name: name
    type: str
    
  - name: states
    type: List[str]
    default: empty
  methods:
  - name: inst
    return_type: ComponentInstance
    params:
    - name: state
      type: str
      default: STATE_UNSET
    - name: bond
      type: int
      default: BOND_UNBOUND

  - name: inst
    return_type: ComponentInstance
    params:
    - name: state
      type: int
      default: STATE_UNSET_INT
    - name: bond
      type: int
      default: BOND_UNBOUND
      
      
ComponentInstance:
  superclass: BaseDataClass
  items:
  - name: component_type
    type: ComponentType*

  - name: state
    type: str
    default: STATE_UNSET
    
  - name: bond
    type: int
    default: BOND_UNBOUND      
    
      
MoleculeType:
  superclass: BaseDataClass
  items:
  - name: name
    type: str
    
  - name: components
    type: List[ComponentType*]
    default: empty

  - name: diffusion_constant_2d
    type: float
    default: unset
    doc: This molecule is constrained to a surface and diffuses with  diffusion constant D.
      
  - name: diffusion_constant_3d
    type: float
    default: unset # the value is optional and might need to be checked with a more complex check
    doc: This molecule diffuses in space with diffusion constant D. D can be zero, in which case the molecule doesn’t move. The units of D are cm 2 /s.
      
  methods:
  - name: inst
    return_type: MoleculeInstance
    params:
    - name: components
      type: List[ComponentInstance*]
      
      
MoleculeInstance:
  superclass: BaseDataClass
  items:
  - name: molecule_type
    type: MoleculeType*
    
  - name: components
    type: List[ComponentInstance*]
    default: empty

    
ComplexInstance:    
  superclass: BaseDataClass
  items:
  - name: molecule_instances
    type: List[MoleculeInstance*]
    default: empty

  - name: orientation
    type: Orientation 
    default: Orientation.None
    
Species:
  superclass: ComplexInstance
  items:
  - name: name
    type: str
    doc: Name of the species

  - name: diffusion_constant_2d
    type: float
    default: unset
    doc: This molecule is constrained to a surface and diffuses with  diffusion constant D.
      
  - name: diffusion_constant_3d
    type: float
    default: unset # the value is optional and might need to be checked with a more complex check
    doc: This molecule diffuses in space with diffusion constant D. D can be zero, in which case the molecule doesn’t move. The units of D are cm 2 /s.
  
  methods:
  - name: inst
    return_type: ComplexInstance
    doc: Only for simple species (single molecule instance, no components)
    params:
    - name: orientation
      type: Orientation 
      default: Orientation.NotSet
  
    
SurfaceClass:
  doc: Defining a surface class allows surfaces to behave like species (in a limited way).
  superclass: BaseDataClass
  items:
  - name: name
    type: str
    doc: Name of the surface class

  - name: reflective
    type: Species*
    default: unset
  # TODO: add orientations for specific behaviors

  - name: transparent
    type: Species*
    default: unset

  - name: absorptive
    type: Species*
    default: unset


ReactionRule:    
  superclass: BaseDataClass
  items:
  - name: name
    type: str
    default: unset
    doc: Name of the reaction
    
  - name: reactants
    type: List[ComplexInstance*]
    default: empty # must be set, but C++ ordering of arguments requires that all defaults are at the end
    
  - name: products
    type: List[ComplexInstance*]
    default: empty
    
  - name: fwd_rate
    type: float
    default: unset # must be set, but C++ ordering of arguments requires that all defaults are at the end
    
  - name: rev_rate
    type: float
    default: unset
    doc: Reverse reactions rate, reaction is unidirectional when not specified 



Subsystem:
  items:
  - name: species
    type: List[Species*]
    default: empty
    
  - name: reaction_rules
    type: List[ReactionRule*]
    default: empty

  - name: surface_classes
    type: List[SurfaceClass*]
    default: empty    
    
  methods:
  - name: add_species
    params:
    - name: s
      type: Species*
      
  - name: find_species
    return_type: Species*
    params:
    - name: name
      type: str
      
  - name: add_reaction_rule
    params:
    - name: r
      type: ReactionRule*
      
  - name: find_reaction_rule  
    return_type: ReactionRule*
    params:
    - name: name
      type: str

  - name: add_surface_class
    params:
    - name: sc
      type: SurfaceClass*
      